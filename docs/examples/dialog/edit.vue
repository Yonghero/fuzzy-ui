<template>
  <div style="margin: 20px">
    <div class="mb-4">
      <button @click="switchValue">
        æ‰“å¼€å¯¹è¯æ¡†
        {{ value }}
      </button>
      <FYDialog
        v-model="value"
        :dialogConfig="dialogConfigDefault"
        :formModel="formModel"
        @submit="handleSubmit"
        @fail="handleFail"
        @cancel="handleCancel"
        @open="handleOpen"
      />
    </div>
  </div>
</template>
<script setup>
import {
  ref,
} from 'vue'

const value = ref(false)
const handleOpen = () => {
  console.log('ğŸš€ ~ file: edit.vue:27 ~ handleOpen ~ formModel.value:', formModel.value)
}
const dialogConfigDefault = ({
  title: 'æµ‹è¯•è®¡åˆ’',
  type: 'update',
  template: [
    {
      type: 'input',
      label: 'é•¿è¾“å…¥',
      value: 'input',
      placeholder: 'è¯·è¾“å…¥æœç´¢æ–‡å­—',
      limit: 10,
      require: true,
      rules: [{
        min: 3, max: 5, message: 'Length should be 3 to 5', trigger: 'blur',
      }],
    },
    {
      type: 'select',
      label: 'é€‰æ‹©',
      value: 'select',
      placeholder: 'è¯·è¾“å…¥æœç´¢æ–‡å­—',
      options: [
        {
          value: 'value1',
          label: 'label1',
        },
        {
          value: 'value2',
          label: 'label2',
        },
      ],
      half: true,
    },
    {
      type: 'datePicker',
      label: 'æ—¶é—´é€‰æ‹©',
      value: 'datePicker',
      half: true,
    },
    {
      type: 'cascader',
      label: 'é€‰æ‹©',
      value: 'cascader',
      options: [
        {
          value: 'guide',
          label: 'Guide',
          children: [
            {
              value: 'disciplines',
              label: 'Disciplines',
              children: [
                {
                  value: 'consistency',
                  label: 'Consistency',
                },
                {
                  value: 'feedback',
                  label: 'Feedback',
                },
                {
                  value: 'efficiency',
                  label: 'Efficiency',
                },
                {
                  value: 'controllability',
                  label: 'Controllability',
                },
              ],
            },
            {
              value: 'navigation',
              label: 'Navigation',
              children: [
                {
                  value: 'side nav',
                  label: 'Side Navigation',
                },
                {
                  value: 'top nav',
                  label: 'Top Navigation',
                },
              ],
            },
          ],
        },
      ],
      half: true,
    },
    {
      type: 'cascader',
      label: 'é€‰æ‹©',
      value: 'cascader2',
      options: [
        {
          value: 'guide',
          label: 'Guide',
          children: [
            {
              value: 'disciplines',
              label: 'Disciplines',
              children: [
                {
                  value: 'consistency',
                  label: 'Consistency',
                },
                {
                  value: 'feedback',
                  label: 'Feedback',
                },
                {
                  value: 'efficiency',
                  label: 'Efficiency',
                },
                {
                  value: 'controllability',
                  label: 'Controllability',
                },
              ],
            },
            {
              value: 'navigation',
              label: 'Navigation',
              children: [
                {
                  value: 'side nav',
                  label: 'Side Navigation',
                },
                {
                  value: 'top nav',
                  label: 'Top Navigation',
                },
              ],
            },
          ],
        },
      ],
      half: true,
    },
    {
      type: 'select',
      label: 'é€‰æ‹©',
      value: 'select2',
      placeholder: 'è¯·è¾“å…¥æœç´¢æ–‡å­—',
      options: [
        {
          value: 'value1',
          label: 'label1',
        },
        {
          value: 'value2',
          label: 'label2',
        },
      ],
      half: true,
    },
    {
      type: 'select',
      label: 'é€‰æ‹©',
      value: 'select3',
      placeholder: 'è¯·è¾“å…¥æœç´¢æ–‡å­—',
      options: [
        {
          value: 'value1',
          label: 'label1',
        },
        {
          value: 'value2',
          label: 'label2',
        },
      ],
      half: true,
    },
    {
      type: 'switch',
      label: 'é€‰æ‹©',
      value: 'switch',
      cb: () => {
        console.log('æˆ‘æ˜¯å›è°ƒå‡½æ•°')
      },
      oneOfFour: true,
    },
    {
      type: 'switch',
      label: 'é€‰æ‹©',
      value: 'switch2',
      cb: () => {
        console.log('æˆ‘æ˜¯å›è°ƒå‡½æ•°')
      },
      oneOfFour: true,
    },
    {
      type: 'input',
      label: 'é•¿æ–‡æœ¬',
      value: 'input2',
      placeholder: 'è¯·è¾“å…¥æœç´¢æ–‡å­—',
      textarea: true,
      half: true,

    },
  ],
})
const formModel = ref({
  input: '123',
  select: 'value1',
  select2: 'value2',
  select3: '',
  switch: false,
  switch2: false,
  datePicker: '',
  cascader: [],
  cascader2: [],
  input2: '',
})
const handleSubmit = (v) => {
  formModel.value = v
  console.log('ğŸš€ ~ file: edit.vue:244 ~ handleSubmit ~ v:', v)
  value.value = false
}
const handleFail = () => {
}
const handleCancel = () => {
}
const switchValue = () => {
  value.value = !value.value
}

</script>
<style>
.mb-4 {
  margin-bottom: 20px;
}
</style>
